<!DOCTYPE html>
<html lang="pt-br">
<head>    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão Logística Unidade SC</title>
    <link rel="icon" href="src/img/icon_combustivel.png" type="image/png">
    <link rel="apple-touch-icon" href="src/img/icon_combustivel.png">
    <meta name="theme-color" content="#0d6efd">    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">    <link rel="stylesheet" href="src/css/styles.css">
    <link rel="stylesheet" href="src/css/footer-fix.css">
      <!-- Sistema de configuração centralizada -->
    <script>
        // Configurar variável global para API
        window.API_BASE_URL = '/api';
    </script>
    <script src="src/js/config.js"></script>
</head>
<body>
    <!-- Aplicação Principal -->
    <div id="mainApp">
    <div class="container-fluid main-content">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">                <a class="navbar-brand" href="#" onclick="showSection('dashboardSection')" style="cursor: pointer;">
                    <i class="bi bi-fuel-pump-fill me-2"></i>
                    Gestão Logística Unidade SC
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" id="dashboardLink">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="caminhaoLink">Caminhões</a>
                        </li>                        <li class="nav-item">
                            <a class="nav-link" href="#" id="abastecimentoLink">Abastecimentos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="despesasLink">Despesas</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="relatoriosLink">Relatórios</a>
                        </li>
                        <li class="nav-item" id="loginBtn">
                            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">
                                <i class="bi bi-box-arrow-in-right me-1"></i>Login Admin
                            </a>
                        </li>
                        <li class="nav-item dropdown" id="userMenu" style="display: none;">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="bi bi-person-circle me-1"></i>
                                <span id="userName">Usuário</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><span class="dropdown-item-text small" id="userRole">Carregando...</span></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" id="logoutBtn">
                                    <i class="bi bi-box-arrow-right me-2"></i>Sair
                                </a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container">
            <!-- Dashboard -->
            <div id="dashboardSection">
                <div class="card mb-3">
                    <div class="card-body">
                        <form id="dashboardFilterForm" class="row g-3 align-items-end">
                            <div class="col-md-3">
                                <label for="dashboardDataInicio" class="form-label">Data Início</label>
                                <input type="date" id="dashboardDataInicio" class="form-control">
                            </div>
                            <div class="col-md-3">
                                <label for="dashboardDataFim" class="form-label">Data Fim</label>
                                <input type="date" id="dashboardDataFim" class="form-control">
                            </div>
                            <div class="col-md-4">
                                <label for="dashboardCaminhaoSelect" class="form-label">Caminhão</label>
                                <select id="dashboardCaminhaoSelect" class="form-select">
                                    <option value="todos">Todos os caminhões</option>
                                    <!-- Opções serão adicionadas via JavaScript -->
                                </select>
                            </div>
                            <div class="col-md-2">
                                <button id="atualizarDashboard" class="btn btn-primary w-100">Atualizar</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0">Dashboard de Gastos com Combustível</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-success text-white">
                                            <div class="card-body">
                                                <h5 class="card-title">Total Caminhões</h5>
                                                <h2 id="totalCaminhoes">0</h2>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-info text-white">
                                            <div class="card-body">
                                                <h5 class="card-title">Abastecimentos/Mês</h5>
                                                <h2 id="totalAbastecimentos">0</h2>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-warning text-dark">
                                            <div class="card-body">
                                                <h5 class="card-title">Média de Consumo</h5>
                                                <h2 id="mediaConsumo">0 km/l</h2>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-danger text-white">
                                            <div class="card-body">
                                                <h5 class="card-title">Gasto Total/Mês</h5>
                                                <h2 id="gastoTotal">R$ 0,00</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-4">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">Consumo por Caminhão</h5>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="consumoPorCaminhao"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">Gastos Mensais</h5>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="gastosMensais"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Dashboard de Despesas -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0">Dashboard de Despesas Gerais</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-success text-white">
                                            <div class="card-body">
                                                <h5 class="card-title">Total Despesas</h5>
                                                <h2 id="totalDespesas">0</h2>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-info text-white">
                                            <div class="card-body">
                                                <h5 class="card-title">Despesas/Mês</h5>
                                                <h2 id="despesasPorMes">0</h2>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-warning text-dark">
                                            <div class="card-body">
                                                <h5 class="card-title">Média por Despesa</h5>
                                                <h2 id="mediaDespesa">R$ 0,00</h2>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-danger text-white">
                                            <div class="card-body">
                                                <h5 class="card-title">Gasto Total/Mês</h5>
                                                <h2 id="gastoTotalDespesas">R$ 0,00</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-4">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">Despesas por Categoria</h5>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="despesasPorCategoria"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">Evolução de Despesas Mensais</h5>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="evolucaoDespesasMensais"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Caminhões -->
            <div id="caminhaoSection" style="display: none;">
                <div class="card">                    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Gerenciamento de Caminhões</h5>
                        <div class="admin-only">
                            <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#addCaminhaoModal">
                                <i class="bi bi-plus-circle"></i> Novo Caminhão
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover" id="caminhaoTable">
                                <thead>                                    <tr>
                                        <th>Placa</th>
                                        <th>Modelo</th>
                                        <th>Ano</th>
                                        <th>Capacidade (L)</th>
                                        <th>Média (km/l)</th>
                                        <th>Motorista</th>
                                        <th class="admin-only">Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="caminhaoTableBody">
                                    <!-- Dados serão inseridos via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Abastecimentos -->
            <div id="abastecimentoSection" style="display: none;">
                <div class="card">
                    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Registro de Abastecimentos</h5>
                        <div class="admin-only">
                            <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#addAbastecimentoModal">
                                <i class="bi bi-plus-circle"></i> Novo Abastecimento
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <!-- Filtro de Período -->
                        <div class="row mb-3">
                            <div class="col-md-12">
                                <div class="card border-light bg-light">
                                    <div class="card-body py-2">
                                        <form id="filtroAbastecimentoForm" class="row g-3 align-items-end">
                                            <div class="col-md-3">
                                                <label for="filtroDataInicio" class="form-label small">Data Início</label>
                                                <input type="date" class="form-control form-control-sm" id="filtroDataInicio">
                                            </div>
                                            <div class="col-md-3">
                                                <label for="filtroDataFim" class="form-label small">Data Fim</label>
                                                <input type="date" class="form-control form-control-sm" id="filtroDataFim">
                                            </div>
                                            <div class="col-md-4">
                                                <div class="btn-group w-100" role="group">
                                                    <button type="button" class="btn btn-outline-primary btn-sm" id="mesAtualBtn">Mês Atual</button>
                                                    <button type="button" class="btn btn-outline-secondary btn-sm" id="ultimosTrintaDiasBtn">Últimos 30 dias</button>
                                                    <button type="button" class="btn btn-outline-info btn-sm" id="todosRegistrosBtn">Todos</button>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <button type="submit" class="btn btn-primary btn-sm w-100">
                                                    <i class="bi bi-search"></i> Filtrar
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Indicador de Filtro Ativo -->
                        <div id="indicadorFiltro" class="alert alert-info py-2 mb-3" style="display: none;">
                            <small><i class="bi bi-info-circle"></i> Exibindo abastecimentos filtrados. <span id="textoFiltro"></span></small>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="table table-striped table-hover" id="abastecimentoTable">
                                <thead>
                                    <tr>
                                        <th>Placa</th>
                                        <th>Período</th>
                                        <th>Modelo</th>
                                        <th>Motorista</th>
                                        <th>Km Inicial</th>
                                        <th>Km Final</th>
                                        <th>Litros</th>
                                        <th>Valor/L</th>
                                        <th>Total</th>
                                        <th>Consumo</th>
                                        <th class="admin-only">Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="abastecimentoTableBody">
                                    <!-- Dados serão inseridos via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>                </div>
            </div>

            <!-- Despesas -->
            <div id="despesasSection" style="display: none;">
                <div class="card">
                    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Controle de Despesas</h5>
                        <div class="admin-only">
                            <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#addDespesaModal">
                                <i class="bi bi-plus-circle"></i> Nova Despesa
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <!-- Filtro de Período -->
                        <div class="row mb-3">
                            <div class="col-md-12">
                                <div class="card border-light bg-light">
                                    <div class="card-body py-2">
                                        <form id="filtroDespesaForm" class="row g-3 align-items-end">
                                            <div class="col-md-3">
                                                <label for="filtroDespesaDataInicio" class="form-label small">Data Início</label>
                                                <input type="date" class="form-control form-control-sm" id="filtroDespesaDataInicio">
                                            </div>
                                            <div class="col-md-3">
                                                <label for="filtroDespesaDataFim" class="form-label small">Data Fim</label>
                                                <input type="date" class="form-control form-control-sm" id="filtroDespesaDataFim">
                                            </div>
                                            <div class="col-md-4">
                                                <div class="btn-group w-100" role="group">
                                                    <button type="button" class="btn btn-outline-primary btn-sm" id="despesaMesAtualBtn">Mês Atual</button>
                                                    <button type="button" class="btn btn-outline-secondary btn-sm" id="despesaUltimosTrintaDiasBtn">Últimos 30 dias</button>
                                                    <button type="button" class="btn btn-outline-info btn-sm" id="despesaTodosRegistrosBtn">Todos</button>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <button type="submit" class="btn btn-primary btn-sm w-100">
                                                    <i class="bi bi-search"></i> Filtrar
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Indicador de Filtro Ativo -->
                        <div id="indicadorFiltroDespesas" class="alert alert-info py-2 mb-3" style="display: none;">
                            <small><i class="bi bi-info-circle"></i> Exibindo despesas filtradas. <span id="textoFiltroDespesas"></span></small>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="table table-striped table-hover" id="despesaTable">
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Fornecedor</th>
                                        <th>Descrição</th>
                                        <th>Categoria</th>
                                        <th>Valor</th>
                                        <th class="admin-only">Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="despesaTableBody">
                                    <!-- Dados serão inseridos via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Relatórios -->
            <div id="relatoriosSection" style="display: none;">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Relatórios</h5>
                    </div>
                    <div class="card-body">
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Relatório de Consumo de Combustível</h5>
                                    </div>
                                    <div class="card-body">
                                        <form id="relatorioConsumoForm">
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <label for="dataInicio" class="form-label">Data Início</label>
                                                    <input type="date" class="form-control" id="dataInicio">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="dataFim" class="form-label">Data Fim</label>
                                                    <input type="date" class="form-control" id="dataFim">
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="caminhaoSelect" class="form-label">Caminhão</label>
                                                <select class="form-select" id="caminhaoSelect">
                                                    <option value="todos">Todos os caminhões</option>
                                                    <!-- Opções serão adicionadas via JavaScript -->
                                                </select>
                                            </div>                                            <button type="submit" class="btn btn-primary">Gerar Relatório</button>
                                            <button type="button" class="btn btn-danger ms-2" id="exportarPdfCompleto" title="Relatório PDF Completo com Dashboards e Análises">
                                                <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Relatório de Custos com Combustível</h5>
                                    </div>
                                    <div class="card-body">
                                        <form id="relatorioCustosForm">
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <label for="custosDataInicio" class="form-label">Data Início</label>
                                                    <input type="date" class="form-control" id="custosDataInicio">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="custosDataFim" class="form-label">Data Fim</label>
                                                    <input type="date" class="form-control" id="custosDataFim">
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="caminhaoCustosSelect" class="form-label">Caminhão</label>
                                                <select class="form-select" id="caminhaoCustosSelect">
                                                    <option value="todos">Todos os caminhões</option>
                                                    <!-- Opções serão adicionadas via JavaScript -->
                                                </select>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Gerar Relatório</button>
                                            <button type="button" class="btn btn-success ms-2" id="exportarPdf">
                                                <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mb-4">
                            <!-- Início da coluna de Relatório de Despesas -->
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Relatório de Despesas Gerais</h5>
                                    </div>
                                    <div class="card-body">
                                        <form id="relatorioDespesasForm">
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <label for="despesasDataInicio" class="form-label">Data Início</label>
                                                    <input type="date" class="form-control" id="despesasDataInicio">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="despesasDataFim" class="form-label">Data Fim</label>
                                                    <input type="date" class="form-control" id="despesasDataFim">
                                                </div>                                            </div>
                                            <button type="submit" class="btn btn-primary">Gerar Relatório</button>
                                            <button type="button" class="btn btn-success ms-2" id="exportarPdfDespesas">
                                                <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <!-- Fim da coluna de Relatório de Despesas -->
                        </div> <!-- Fim da row mb-4 -->

                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Resultados do Relatório</h5>
                            </div>
                            <div class="card-body">
                                <div id="relatorioResultados">
                                    <p class="text-center text-muted">Selecione os parâmetros e gere um relatório para visualizar os resultados.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Adicionar Caminhão -->
    <div class="modal fade" id="addCaminhaoModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">Adicionar Novo Caminhão</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="caminhaoForm">
                        <input type="hidden" id="caminhaoId">
                        <div class="mb-3">
                            <label for="placa" class="form-label">Placa</label>
                            <input type="text" class="form-control" id="placa" required>
                        </div>
                        <div class="mb-3">
                            <label for="modelo" class="form-label">Modelo</label>
                            <input type="text" class="form-control" id="modelo" required>
                        </div>
                        <div class="mb-3">
                            <label for="ano" class="form-label">Ano</label>
                            <input type="number" class="form-control" id="ano" min="1990" max="2030" required>
                        </div>
                        <div class="mb-3">
                            <label for="capacidade" class="form-label">Capacidade do Tanque (L)</label>
                            <input type="number" class="form-control" id="capacidade" min="1" step="0.1" required>
                        </div>
                        <div class="mb-3">
                            <label for="motorista" class="form-label">Motorista Principal</label>
                            <input type="text" class="form-control" id="motorista">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="saveCaminhao">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Adicionar Abastecimento -->
    <div class="modal fade" id="addAbastecimentoModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">Registrar Abastecimento</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="abastecimentoForm">                        <input type="hidden" id="abastecimentoId">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="periodoInicio" class="form-label">Período - Início</label>
                                <input type="date" class="form-control" id="periodoInicio" required>
                            </div>
                            <div class="col-md-6">
                                <label for="periodoFim" class="form-label">Período - Fim</label>
                                <input type="date" class="form-control" id="periodoFim" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="caminhaoAbastecimento" class="form-label">Caminhão</label>
                            <select class="form-select" id="caminhaoAbastecimento" required>
                                <option value="">Selecione um caminhão</option>
                                <!-- Opções serão adicionadas via JavaScript -->
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="motoristaAbastecimento" class="form-label">Motorista</label>
                            <input type="text" class="form-control" id="motoristaAbastecimento" required>
                        </div>
                        <div class="mb-3">
                            <label for="kmInicial" class="form-label">Km Inicial</label>
                            <input type="number" class="form-control" id="kmInicial" min="0" step="0.1" required>
                        </div>
                        <div class="mb-3">
                            <label for="kmFinal" class="form-label">Km Final</label>
                            <input type="number" class="form-control" id="kmFinal" min="0" step="0.1" required>
                        </div>
                        <div class="mb-3">
                            <label for="litros" class="form-label">Litros Abastecidos</label>
                            <input type="number" class="form-control" id="litros" min="0.1" step="0.01" required>
                        </div>
                        <div class="mb-3">
                            <label for="valorLitro" class="form-label">Valor por Litro (R$)</label>
                            <input type="number" class="form-control" id="valorLitro" min="0.01" step="0.01" required>
                        </div>
                        <div class="mb-3">
                            <label for="posto" class="form-label">Posto</label>
                            <input type="text" class="form-control" id="posto">
                        </div>
                        <div class="mb-3">
                            <label for="observacoes" class="form-label">Observações</label>
                            <textarea class="form-control" id="observacoes" rows="2"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="saveAbastecimento">Salvar</button>
                </div>
            </div>
        </div>    </div>

    <!-- Modal Adicionar Despesa -->
    <div class="modal fade" id="addDespesaModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">Registrar Despesa</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="despesaForm">
                        <input type="hidden" id="despesaId">
                        <div class="mb-3">
                            <label for="dataDespesa" class="form-label">Data</label>
                            <input type="date" class="form-control" id="dataDespesa" required>
                        </div>
                        <div class="mb-3">
                            <label for="fornecedorDespesa" class="form-label">Fornecedor</label>
                            <input type="text" class="form-control" id="fornecedorDespesa" required>
                        </div>
                        <div class="mb-3">
                            <label for="descricaoDespesa" class="form-label">Descrição</label>
                            <input type="text" class="form-control" id="descricaoDespesa" required>
                        </div>
                        <div class="mb-3">
                            <label for="categoriaDespesa" class="form-label">Categoria</label>
                            <select class="form-select" id="categoriaDespesa" required>
                                <option value="">Selecione uma categoria</option>
                                <option value="oficina">Oficina</option>
                                <option value="pecas">Peças</option>
                                <option value="lavacao">Lavação</option>
                                <option value="combustivel">Combustível</option>
                                <option value="manutencao">Manutenção</option>
                                <option value="seguro">Seguro</option>
                                <option value="documentacao">Documentação</option>
                                <option value="outros">Outros</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="valorDespesa" class="form-label">Valor (R$)</label>
                            <input type="number" class="form-control" id="valorDespesa" min="0.01" step="0.01" required>
                        </div>
                        <div class="mb-3">
                            <label for="observacoesDespesa" class="form-label">Observações</label>
                            <textarea class="form-control" id="observacoesDespesa" rows="2"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="saveDespesa">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação de Exclusão -->
    <div class="modal fade" id="deleteConfirmModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title">Confirmar Exclusão</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Tem certeza que deseja excluir este item? Esta ação não pode ser desfeita.</p>
                    <input type="hidden" id="deleteItemId">
                    <input type="hidden" id="deleteItemType">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="confirmDelete">Excluir</button>
                </div>
            </div>        </div>
    </div>    <footer class="footer bg-dark text-white py-3 border-top">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start">
                    <h6 class="mb-2">
                        <i class="bi bi-fuel-pump-fill text-primary me-2"></i>
                        Gestão Logística Unidade SC
                    </h6>
                    <p class="mb-1 text-muted small">&copy; 2025 - Todos os direitos reservados</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <div class="mb-2">
                        <span class="text-muted small">Desenvolvido por:</span>
                        <strong class="text-white ms-1">Liberato Sistemas</strong>
                    </div>
                    <div>
                        <a href="https://wa.me/5548991604054" 
                           class="btn btn-success btn-sm me-2" 
                           target="_blank" 
                           title="Entrar em contato via WhatsApp"
                           aria-label="Contato via WhatsApp">
                            <i class="bi bi-whatsapp me-1"></i>
                            WhatsApp
                        </a>
                        <span class="text-muted small">
                            <i class="bi bi-telephone-fill me-1"></i>
                            (48) 99160-4054
                        </span>
                    </div>
                </div>        
            </div>
        </div>
    </footer>
    </div> <!-- Fim da aplicação principal -->



    <!-- Modal de Login -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="loginModalLabel">
                        <i class="bi bi-box-arrow-in-right me-2"></i>Login Administrativo
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-4">
                        <img src="src/img/icon_combustivel.png" alt="Logo" class="mb-3" style="width: 48px; height: 48px;">
                        <p class="text-muted">Faça login para acessar as funcionalidades administrativas</p>
                    </div>
                    
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Email</label>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-envelope"></i>
                                </span>
                                <input type="email" class="form-control" id="loginEmail" 
                                       placeholder="Digite seu email" required>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Senha</label>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-lock"></i>
                                </span>
                                <input type="password" class="form-control" id="loginPassword" 
                                       placeholder="Digite sua senha" required>
                                <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                                    <i class="bi bi-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary" id="loginSubmitBtn">
                                <span id="loginSpinner" class="spinner-border spinner-border-sm me-2" style="display: none;"></span>
                                Entrar
                            </button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer border-0">
                    <small class="text-muted w-100 text-center">
                        <i class="bi bi-info-circle me-1"></i>
                        Acesso restrito a administradores
                    </small>
                </div>
            </div>        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.5.25/dist/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Carregar configuração de ambiente primeiro -->
    <script src="src/js/env-config.js"></script>
    <script src="src/js/auth.js"></script>
    <script src="src/js/api.js"></script>
    <script src="src/js/alerts.js"></script>
    <script src="src/js/data.js"></script>
    <script src="src/js/app.js"></script>    <script src="src/js/charts.js"></script>
    <script src="src/js/relatorios.js"></script>

</body>
</html>
