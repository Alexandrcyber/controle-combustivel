<!DOCTYPE html>
<html>
<head>
    <title>Teste R√°pido - Despesas</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Teste R√°pido - Carregamento de Despesas</h1>
    <div id="resultado"></div>
    
    <script>
        async function testarDespesas() {
            const resultado = document.getElementById('resultado');
            
            try {
                // Teste 1: Verificar configura√ß√£o
                resultado.innerHTML += '<p>üîß Verificando configura√ß√£o...</p>';
                resultado.innerHTML += `<p>Hostname: ${window.location.hostname}</p>`;
                resultado.innerHTML += `<p>√â Netlify: ${window.location.hostname.includes('netlify.app')}</p>`;
                
                // Teste 2: Carregar configura√ß√£o
                resultado.innerHTML += '<p>üì¶ Carregando configura√ß√£o...</p>';
                
                // Simular o que o env-config.js faz
                const isNetlify = window.location.hostname.includes('netlify.app');
                const API_BASE_URL = isNetlify ? '/api' : 'https://controle-combustivel.onrender.com/api';
                
                resultado.innerHTML += `<p>API Base URL: ${API_BASE_URL}</p>`;
                
                // Teste 3: Testar conex√£o
                resultado.innerHTML += '<p>üåê Testando conex√£o com API...</p>';
                
                const response = await fetch(`${API_BASE_URL}/despesas`);
                const despesas = await response.json();
                
                resultado.innerHTML += `<p>‚úÖ Sucesso! ${despesas.length} despesas encontradas</p>`;
                resultado.innerHTML += `<pre>${JSON.stringify(despesas[0], null, 2)}</pre>`;
                
            } catch (error) {
                resultado.innerHTML += `<p>‚ùå Erro: ${error.message}</p>`;
                console.error('Erro:', error);
            }
        }
        
        // Executar teste quando a p√°gina carregar
        window.addEventListener('load', testarDespesas);
    </script>
</body>
</html>
