<!DOCTYPE html>
<html lang="pt-br">
<head>    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Controle de Combustível</title>
    <link rel="icon" href="src/img/icon_combustivel.png" type="image/png">
    <link rel="apple-touch-icon" href="src/img/icon_combustivel.png">
    <meta name="theme-color" content="#0d6efd">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="src/css/styles.css">
</head>
<body>
    <div class="container-fluid">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <i class="bi bi-fuel-pump-fill me-2"></i>
                    Controle de Combustível
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" id="dashboardLink">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="caminhaoLink">Caminhões</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="abastecimentoLink">Abastecimentos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="relatoriosLink">Relatórios</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container">
            <!-- Dashboard -->
            <div id="dashboardSection">
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0">Dashboard</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-success text-white">
                                            <div class="card-body">
                                                <h5 class="card-title">Total Caminhões</h5>
                                                <h2 id="totalCaminhoes">0</h2>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-info text-white">
                                            <div class="card-body">
                                                <h5 class="card-title">Abastecimentos/Mês</h5>
                                                <h2 id="totalAbastecimentos">0</h2>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-warning text-dark">
                                            <div class="card-body">
                                                <h5 class="card-title">Média de Consumo</h5>
                                                <h2 id="mediaConsumo">0 km/l</h2>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card bg-danger text-white">
                                            <div class="card-body">
                                                <h5 class="card-title">Gasto Total/Mês</h5>
                                                <h2 id="gastoTotal">R$ 0,00</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-4">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">Consumo por Caminhão</h5>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="consumoPorCaminhao"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">Gastos Mensais</h5>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="gastosMensais"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Caminhões -->
            <div id="caminhaoSection" style="display: none;">
                <div class="card">
                    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Gerenciamento de Caminhões</h5>
                        <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#addCaminhaoModal">
                            <i class="bi bi-plus-circle"></i> Novo Caminhão
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover" id="caminhaoTable">
                                <thead>                                    <tr>
                                        <th>Placa</th>
                                        <th>Modelo</th>
                                        <th>Ano</th>
                                        <th>Capacidade (L)</th>
                                        <th>Média (km/l)</th>
                                        <th>Motorista</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="caminhaoTableBody">
                                    <!-- Dados serão inseridos via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Abastecimentos -->
            <div id="abastecimentoSection" style="display: none;">
                <div class="card">
                    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Registro de Abastecimentos</h5>
                        <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#addAbastecimentoModal">
                            <i class="bi bi-plus-circle"></i> Novo Abastecimento
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">                            <table class="table table-striped table-hover" id="abastecimentoTable">
                                <thead>
                                    <tr>
                                        <th>Placa</th>
                                        <th>Data</th>
                                        <th>Modelo</th>
                                        <th>Motorista</th>
                                        <th>Km Inicial</th>
                                        <th>Km Final</th>
                                        <th>Litros</th>
                                        <th>Valor/L</th>
                                        <th>Total</th>
                                        <th>Consumo</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="abastecimentoTableBody">
                                    <!-- Dados serão inseridos via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Relatórios -->
            <div id="relatoriosSection" style="display: none;">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Relatórios</h5>
                    </div>
                    <div class="card-body">
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Relatório de Consumo</h5>
                                    </div>
                                    <div class="card-body">
                                        <form id="relatorioConsumoForm">
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <label for="dataInicio" class="form-label">Data Início</label>
                                                    <input type="date" class="form-control" id="dataInicio">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="dataFim" class="form-label">Data Fim</label>
                                                    <input type="date" class="form-control" id="dataFim">
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="caminhaoSelect" class="form-label">Caminhão</label>
                                                <select class="form-select" id="caminhaoSelect">
                                                    <option value="todos">Todos os caminhões</option>
                                                    <!-- Opções serão adicionadas via JavaScript -->
                                                </select>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Gerar Relatório</button>
                                            <button type="button" class="btn btn-success ms-2" id="exportarExcel">
                                                <i class="bi bi-file-earmark-excel"></i> Exportar Excel
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Relatório de Custos</h5>
                                    </div>
                                    <div class="card-body">
                                        <form id="relatorioCustosForm">
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <label for="mesInicio" class="form-label">Mês Início</label>
                                                    <input type="month" class="form-control" id="mesInicio">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="mesFim" class="form-label">Mês Fim</label>
                                                    <input type="month" class="form-control" id="mesFim">
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="tipoAgrupamento" class="form-label">Agrupar por</label>
                                                <select class="form-select" id="tipoAgrupamento">
                                                    <option value="caminhao">Caminhão</option>
                                                    <option value="motorista">Motorista</option>
                                                    <option value="mes">Mês</option>
                                                </select>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Gerar Relatório</button>
                                            <button type="button" class="btn btn-success ms-2" id="exportarPdf">
                                                <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Resultados do Relatório</h5>
                            </div>
                            <div class="card-body">
                                <div id="relatorioResultados">
                                    <p class="text-center text-muted">Selecione os parâmetros e gere um relatório para visualizar os resultados.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Adicionar Caminhão -->
    <div class="modal fade" id="addCaminhaoModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">Adicionar Novo Caminhão</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="caminhaoForm">
                        <input type="hidden" id="caminhaoId">
                        <div class="mb-3">
                            <label for="placa" class="form-label">Placa</label>
                            <input type="text" class="form-control" id="placa" required>
                        </div>
                        <div class="mb-3">
                            <label for="modelo" class="form-label">Modelo</label>
                            <input type="text" class="form-control" id="modelo" required>
                        </div>
                        <div class="mb-3">
                            <label for="ano" class="form-label">Ano</label>
                            <input type="number" class="form-control" id="ano" min="1990" max="2030" required>
                        </div>
                        <div class="mb-3">
                            <label for="capacidade" class="form-label">Capacidade do Tanque (L)</label>
                            <input type="number" class="form-control" id="capacidade" min="1" step="0.1" required>
                        </div>
                        <div class="mb-3">
                            <label for="motorista" class="form-label">Motorista Principal</label>
                            <input type="text" class="form-control" id="motorista">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="saveCaminhao">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Adicionar Abastecimento -->
    <div class="modal fade" id="addAbastecimentoModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">Registrar Abastecimento</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="abastecimentoForm">
                        <input type="hidden" id="abastecimentoId">
                        <div class="mb-3">
                            <label for="dataAbastecimento" class="form-label">Data</label>
                            <input type="date" class="form-control" id="dataAbastecimento" required>
                        </div>
                        <div class="mb-3">
                            <label for="caminhaoAbastecimento" class="form-label">Caminhão</label>
                            <select class="form-select" id="caminhaoAbastecimento" required>
                                <option value="">Selecione um caminhão</option>
                                <!-- Opções serão adicionadas via JavaScript -->
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="motoristaAbastecimento" class="form-label">Motorista</label>
                            <input type="text" class="form-control" id="motoristaAbastecimento" required>
                        </div>
                        <div class="mb-3">
                            <label for="kmInicial" class="form-label">Km Inicial</label>
                            <input type="number" class="form-control" id="kmInicial" min="0" step="0.1" required>
                        </div>
                        <div class="mb-3">
                            <label for="kmFinal" class="form-label">Km Final</label>
                            <input type="number" class="form-control" id="kmFinal" min="0" step="0.1" required>
                        </div>
                        <div class="mb-3">
                            <label for="litros" class="form-label">Litros Abastecidos</label>
                            <input type="number" class="form-control" id="litros" min="0.1" step="0.01" required>
                        </div>
                        <div class="mb-3">
                            <label for="valorLitro" class="form-label">Valor por Litro (R$)</label>
                            <input type="number" class="form-control" id="valorLitro" min="0.01" step="0.01" required>
                        </div>
                        <div class="mb-3">
                            <label for="posto" class="form-label">Posto</label>
                            <input type="text" class="form-control" id="posto">
                        </div>
                        <div class="mb-3">
                            <label for="observacoes" class="form-label">Observações</label>
                            <textarea class="form-control" id="observacoes" rows="2"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="saveAbastecimento">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação de Exclusão -->
    <div class="modal fade" id="deleteConfirmModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title">Confirmar Exclusão</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Tem certeza que deseja excluir este item? Esta ação não pode ser desfeita.</p>
                    <input type="hidden" id="deleteItemId">
                    <input type="hidden" id="deleteItemType">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="confirmDelete">Excluir</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="mt-5 py-3 bg-light text-center">
        <div class="container">
            <p class="mb-0">Sistema de Controle de Combustível &copy; 2025</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.5.25/dist/jspdf.plugin.autotable.min.js"></script>
    <script src="src/js/app.js"></script>
    <script src="src/js/data.js"></script>
    <script src="src/js/charts.js"></script>
    <script src="src/js/relatorios.js"></script>
</body>
</html>
